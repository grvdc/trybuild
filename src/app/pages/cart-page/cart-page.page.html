<ion-header>
  <ion-toolbar class="bg-color">
    <ion-buttons slot="start">
      <ion-back-button class="white"></ion-back-button>
      <!-- <ion-menu-button class="white"></ion-menu-button> -->
    </ion-buttons>
    <ion-title>Cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="cartItems.length">
  <div *ngIf="skeleton">
    <ion-item>
      <ion-thumbnail slot="start" style="width: 35%;height:125px;">
        <ion-skeleton-text></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text animated style="width: 70%;height:25px"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start" style="width: 35%;height:125px;">
        <ion-skeleton-text></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text animated style="width: 70%;height:25px"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start" style="width: 35%;height:125px;">
        <ion-skeleton-text></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text animated style="width: 70%;height:25px"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
  </div>

  <div style="height:80%;overflow: scroll;" *ngIf="!skeleton">
    <ion-list>
      <ion-card *ngFor="let item of cartItems; index as index">
        <ion-item lines="none"  slot="start" class="tt" no-padding>
          <ion-thumbnail slot="start" style="width:30%;height: 0%;margin:0" (click)="goToProductDetailPage(item.id)">
            <img [src]="item.img">
          </ion-thumbnail>
          <div style="padding-left: 10px;height: 100%;display: grid;width:100%">

            <ion-card-subtitle style="text-align: left;margin:0;display: flex; align-items: center">
              <h5 style="text-align: left;margin:0;margin-bottom: -28%;">Avatar Start, Button Item</h5>
            
            </ion-card-subtitle>
            <ion-row>
              <ion-col style="display: flex;  align-self: flex-end;margin-bottom: -20%;">
                <p >
                  <label>$ {{item.price}}</label>
                  <label style="margin-left: 15px;">in stock</label>
                </p>

              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col style="display: flex;
              align-self: flex-end;">
                <ion-icon name="remove" (click)="removeQty(item,index)"></ion-icon>
                <ion-label style="align-self: center">{{item.productQuantity>-1?item.productQuantity:1}}</ion-label>
                <ion-icon name="add" (click)="addQty(item,index)"></ion-icon>

              </ion-col>
              <ion-col size="5" style="align-self: flex-end;display :flex;font-size:18pt;justify-content: flex-end;padding-right: 0;">
                  <!-- <ion-icon name="heart" style="color:rgb(106, 112, 108)" (click)="wishlist(item,index)" [ngClass]="{wish: item.wish}"></ion-icon> -->
                  <!-- <ion-icon name="trash" (click)="indexFinding(index)" style="color:red"></ion-icon> -->
              </ion-col>
            </ion-row>

          </div>
        </ion-item>
        <div style="     width: 100%;
        padding-top: 10px;
        text-align: center;
        position: absolute;
        z-index: 99;
        /* bottom: 31%; */
        opacity: 0.5;
        top: 0;
        color: white;
        font-weight: bold;
        /* background-color: #dc0000; */
        font-size: 23px;
        /* left: 39%; */
        text-align: right;
        padding-right: 10px;
        "><ion-icon name="heart" style="color:rgb(106, 112, 108)" (click)="wishlist(item,index)" [ngClass]="{wish: item.wish}"></ion-icon></div>

<div style="     width: 100%;
padding-top: 10px;
text-align: center;
position: absolute;
z-index: 99;

color: white;
font-weight: bold;

font-size: 18pt;

text-align: right;
padding-right: 10px;
bottom: 0;
    padding-bottom: 10px"><ion-icon name="trash" style="color:red" (click)="indexFinding(index)"  ></ion-icon></div>
      </ion-card>
    </ion-list>
  </div>
  <ion-card style=" padding: 0px;
    margin:0;
     position: absolute;
     bottom: 0;
     width: 100%;
     
     " *ngIf="!skeleton">
    
    <ion-item lines="none"  slot="start">
      <ion-icon name="cash" slot="start"></ion-icon>
      <ion-label>
        <h3>Total Amount</h3>
      </ion-label>
      <ion-label>
        <h4>$ {{totalAmount}}</h4>
      </ion-label>

    </ion-item>


    <ion-card-content>
      <ion-button   fill="outline" class="checkout-btn" type="submit" (click)="checkOutPage()">Proceed To checkout
      </ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>

<ion-content *ngIf="!cartItems.length">
  <ion-text>Nothing in cart</ion-text>
</ion-content>